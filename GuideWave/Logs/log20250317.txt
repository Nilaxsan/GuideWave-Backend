2025-03-17 01:43:37.099 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:43:37.144 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 01:43:37.207 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 01:43:37.293 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 01:43:37.301 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:43:37.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 01:43:37.319 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 01:43:37.328 +05:30 [INF] Applying migration '20250316201323_otpfield added'.
2025-03-17 01:43:37.383 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Tourists] ADD [Otp] nvarchar(max) NULL;
2025-03-17 01:43:37.386 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Guides] ADD [Otp] nvarchar(max) NULL;
2025-03-17 01:43:37.400 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316201323_otpfield added', N'9.0.2');
2025-03-17 01:43:37.407 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 01:44:55.978 +05:30 [INF] Now listening on: https://localhost:7015
2025-03-17 01:44:56.015 +05:30 [INF] Now listening on: http://localhost:5283
2025-03-17 01:44:56.018 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 01:44:56.019 +05:30 [INF] Hosting environment: Development
2025-03-17 01:44:56.020 +05:30 [INF] Content root path: G:\Documents\Uni\Aaa\L3\Individual Project on Business Solution\Back_end\GuideWave\GuideWave
2025-03-17 01:45:00.265 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7015/swagger/index.html - null null
2025-03-17 01:45:00.870 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7015/swagger/index.html - 200 null text/html;charset=utf-8 622.6515ms
2025-03-17 01:45:00.946 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7015/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 01:45:00.950 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7015/_vs/browserLink - null null
2025-03-17 01:45:00.978 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7015/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 32.1234ms
2025-03-17 01:45:01.078 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7015/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.5253ms
2025-03-17 01:45:01.171 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7015/swagger/v1/swagger.json - null null
2025-03-17 01:45:01.386 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7015/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.44ms
2025-03-17 01:45:19.430 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7015/api/Guide/5 - null null
2025-03-17 01:45:19.447 +05:30 [INF] CORS policy execution successful.
2025-03-17 01:45:19.456 +05:30 [INF] Executing endpoint 'GuideWave.Controllers.GuideController.DeleteById (GuideWave)'
2025-03-17 01:45:19.503 +05:30 [INF] Route matched with {action = "DeleteById", controller = "Guide"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteById(Int32) on controller GuideWave.Controllers.GuideController (GuideWave).
2025-03-17 01:45:21.778 +05:30 [INF] Executed DbCommand (461ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[UserId], [g].[Email], [g].[EmailVerificationToken], [g].[Experience], [g].[FullName], [g].[IsEmailVerified], [g].[Location], [g].[Otp], [g].[Password], [g].[PhoneNumber], [g].[Profile], [g].[Role]
FROM [Guides] AS [g]
WHERE [g].[UserId] = @__p_0
2025-03-17 01:45:21.978 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Guides]
OUTPUT 1
WHERE [UserId] = @p0;
2025-03-17 01:45:21.994 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-17 01:45:21.998 +05:30 [INF] Executed action GuideWave.Controllers.GuideController.DeleteById (GuideWave) in 2490.8399ms
2025-03-17 01:45:22.000 +05:30 [INF] Executed endpoint 'GuideWave.Controllers.GuideController.DeleteById (GuideWave)'
2025-03-17 01:45:22.009 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7015/api/Guide/5 - 204 null null 2579.3505ms
2025-03-17 01:45:28.445 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7015/api/Guide - null null
2025-03-17 01:45:28.453 +05:30 [INF] Executing endpoint 'GuideWave.Controllers.GuideController.GetAll (GuideWave)'
2025-03-17 01:45:28.460 +05:30 [INF] Route matched with {action = "GetAll", controller = "Guide"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[GuideWave.DTO.Guides.GuidesDto]]] GetAll() on controller GuideWave.Controllers.GuideController (GuideWave).
2025-03-17 01:45:28.535 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[UserId], [g].[Email], [g].[EmailVerificationToken], [g].[Experience], [g].[FullName], [g].[IsEmailVerified], [g].[Location], [g].[Otp], [g].[Password], [g].[PhoneNumber], [g].[Profile], [g].[Role]
FROM [Guides] AS [g]
2025-03-17 01:45:28.555 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GuideWave.DTO.Guides.GuidesDto, GuideWave, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 01:45:28.564 +05:30 [INF] Executed action GuideWave.Controllers.GuideController.GetAll (GuideWave) in 99.9585ms
2025-03-17 01:45:28.566 +05:30 [INF] Executed endpoint 'GuideWave.Controllers.GuideController.GetAll (GuideWave)'
2025-03-17 01:45:28.567 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7015/api/Guide - 200 null application/json; charset=utf-8 122.3277ms
2025-03-17 01:45:50.568 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7015/api/Auth/forgot-password - application/json 42
2025-03-17 01:45:50.576 +05:30 [INF] CORS policy execution successful.
2025-03-17 01:45:50.577 +05:30 [INF] Executing endpoint 'GuideWave.Controllers.AuthController.ForgotPassword (GuideWave)'
2025-03-17 01:45:50.582 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Microsoft.AspNetCore.Identity.Data.ForgotPasswordRequest) on controller GuideWave.Controllers.AuthController (GuideWave).
2025-03-17 01:45:50.685 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[UserId], [g].[Email], [g].[EmailVerificationToken], [g].[Experience], [g].[FullName], [g].[IsEmailVerified], [g].[Location], [g].[Otp], [g].[Password], [g].[PhoneNumber], [g].[Profile], [g].[Role]
FROM [Guides] AS [g]
WHERE [g].[Email] = @__email_0
2025-03-17 01:45:50.743 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[UserId], [t].[Country], [t].[Email], [t].[EmailVerificationToken], [t].[FullName], [t].[IsEmailVerified], [t].[Otp], [t].[Password], [t].[PhoneNumber], [t].[Profile], [t].[Role]
FROM [Tourists] AS [t]
WHERE [t].[Email] = @__email_0
2025-03-17 01:45:50.858 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tourists] SET [Country] = @p0, [Email] = @p1, [EmailVerificationToken] = @p2, [FullName] = @p3, [IsEmailVerified] = @p4, [Otp] = @p5, [Password] = @p6, [PhoneNumber] = @p7, [Profile] = @p8, [Role] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2025-03-17 01:45:58.385 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-17 01:45:58.397 +05:30 [INF] Executed action GuideWave.Controllers.AuthController.ForgotPassword (GuideWave) in 7812.9824ms
2025-03-17 01:45:58.398 +05:30 [INF] Executed endpoint 'GuideWave.Controllers.AuthController.ForgotPassword (GuideWave)'
2025-03-17 01:45:58.399 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7015/api/Auth/forgot-password - 200 null application/json; charset=utf-8 7831.4314ms
2025-03-17 01:50:22.125 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7015/api/Auth/forgot-password - null null
2025-03-17 01:50:22.168 +05:30 [INF] CORS policy execution successful.
2025-03-17 01:50:22.197 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7015/api/Auth/forgot-password - 204 null null 75.8725ms
2025-03-17 01:50:22.201 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7015/api/Auth/forgot-password - application/json 37
2025-03-17 01:50:22.208 +05:30 [INF] CORS policy execution successful.
2025-03-17 01:50:22.213 +05:30 [INF] Executing endpoint 'GuideWave.Controllers.AuthController.ForgotPassword (GuideWave)'
2025-03-17 01:50:22.230 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Microsoft.AspNetCore.Identity.Data.ForgotPasswordRequest) on controller GuideWave.Controllers.AuthController (GuideWave).
2025-03-17 01:50:22.425 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[UserId], [g].[Email], [g].[EmailVerificationToken], [g].[Experience], [g].[FullName], [g].[IsEmailVerified], [g].[Location], [g].[Otp], [g].[Password], [g].[PhoneNumber], [g].[Profile], [g].[Role]
FROM [Guides] AS [g]
WHERE [g].[Email] = @__email_0
2025-03-17 01:50:22.443 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[UserId], [t].[Country], [t].[Email], [t].[EmailVerificationToken], [t].[FullName], [t].[IsEmailVerified], [t].[Otp], [t].[Password], [t].[PhoneNumber], [t].[Profile], [t].[Role]
FROM [Tourists] AS [t]
WHERE [t].[Email] = @__email_0
2025-03-17 01:50:22.496 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tourists] SET [Country] = @p0, [Email] = @p1, [EmailVerificationToken] = @p2, [FullName] = @p3, [IsEmailVerified] = @p4, [Otp] = @p5, [Password] = @p6, [PhoneNumber] = @p7, [Profile] = @p8, [Role] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2025-03-17 01:50:28.826 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-17 01:50:28.835 +05:30 [INF] Executed action GuideWave.Controllers.AuthController.ForgotPassword (GuideWave) in 6603.4995ms
2025-03-17 01:50:28.839 +05:30 [INF] Executed endpoint 'GuideWave.Controllers.AuthController.ForgotPassword (GuideWave)'
2025-03-17 01:50:28.845 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7015/api/Auth/forgot-password - 200 null application/json; charset=utf-8 6644.1412ms
